{
  "version": 3,
  "sources": ["../bundle-ucMwbR/checked-fetch.js", "../../../src/index.js", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-ucMwbR/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-ucMwbR/middleware-loader.entry.ts"],
  "sourceRoot": "D:\\sunscape\\Wild-Breeze\\workers\\.wrangler\\tmp\\dev-33sWqK",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "/**\r\n * Wild-Breeze Cloudflare Workers API\r\n * Replaces Firebase backend with Cloudflare Workers + D1\r\n */\r\n\r\n// Simple UUID generator for IDs\r\nfunction generateId() {\r\n    return crypto.randomUUID();\r\n}\r\n\r\n// CORS headers helper\r\nfunction corsHeaders(origin = '*') {\r\n    return {\r\n        'Access-Control-Allow-Origin': origin,\r\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\r\n        'Access-Control-Allow-Headers': 'Content-Type, Authorization',\r\n        'Access-Control-Max-Age': '86400',\r\n    };\r\n}\r\n\r\n// JSON response helper\r\nfunction jsonResponse(data, status = 200, headers = {}) {\r\n    return new Response(JSON.stringify(data), {\r\n        status,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            ...corsHeaders(),\r\n            ...headers\r\n        }\r\n    });\r\n}\r\n\r\n// Error response helper\r\nfunction errorResponse(message, status = 400) {\r\n    return jsonResponse({ error: message }, status);\r\n}\r\n\r\n// Simple password hashing using Web Crypto API\r\nasync function hashPassword(password) {\r\n    const encoder = new TextEncoder();\r\n    const data = encoder.encode(password + 'wild-breeze-salt');\r\n    const hash = await crypto.subtle.digest('SHA-256', data);\r\n    return btoa(String.fromCharCode(...new Uint8Array(hash)));\r\n}\r\n\r\nasync function verifyPassword(password, hash) {\r\n    const passwordHash = await hashPassword(password);\r\n    return passwordHash === hash;\r\n}\r\n\r\n// JWT implementation using Web Crypto API\r\nasync function createJWT(payload, secret) {\r\n    const header = { alg: 'HS256', typ: 'JWT' };\r\n\r\n    const encoder = new TextEncoder();\r\n    const headerB64 = btoa(JSON.stringify(header)).replace(/=/g, '');\r\n    const payloadB64 = btoa(JSON.stringify({\r\n        ...payload,\r\n        exp: Math.floor(Date.now() / 1000) + (7 * 24 * 60 * 60) // 7 days\r\n    })).replace(/=/g, '');\r\n\r\n    const signatureInput = `${headerB64}.${payloadB64}`;\r\n    const key = await crypto.subtle.importKey(\r\n        'raw',\r\n        encoder.encode(secret),\r\n        { name: 'HMAC', hash: 'SHA-256' },\r\n        false,\r\n        ['sign']\r\n    );\r\n\r\n    const signature = await crypto.subtle.sign('HMAC', key, encoder.encode(signatureInput));\r\n    const signatureB64 = btoa(String.fromCharCode(...new Uint8Array(signature))).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\r\n\r\n    return `${headerB64}.${payloadB64}.${signatureB64}`;\r\n}\r\n\r\nasync function verifyJWT(token, secret) {\r\n    try {\r\n        const [headerB64, payloadB64, signatureB64] = token.split('.');\r\n        const encoder = new TextEncoder();\r\n\r\n        const signatureInput = `${headerB64}.${payloadB64}`;\r\n        const key = await crypto.subtle.importKey(\r\n            'raw',\r\n            encoder.encode(secret),\r\n            { name: 'HMAC', hash: 'SHA-256' },\r\n            false,\r\n            ['verify']\r\n        );\r\n\r\n        const signature = Uint8Array.from(atob(signatureB64.replace(/-/g, '+').replace(/_/g, '/')), c => c.charCodeAt(0));\r\n        const valid = await crypto.subtle.verify('HMAC', key, signature, encoder.encode(signatureInput));\r\n\r\n        if (!valid) return null;\r\n\r\n        const payload = JSON.parse(atob(payloadB64));\r\n        if (payload.exp && payload.exp < Math.floor(Date.now() / 1000)) {\r\n            return null; // Token expired\r\n        }\r\n\r\n        return payload;\r\n    } catch {\r\n        return null;\r\n    }\r\n}\r\n\r\n// Auth middleware\r\nasync function authenticateRequest(request, env) {\r\n    const authHeader = request.headers.get('Authorization');\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return null;\r\n    }\r\n\r\n    const token = authHeader.substring(7);\r\n    const jwtSecret = env.JWT_SECRET || 'default-dev-secret';\r\n    return await verifyJWT(token, jwtSecret);\r\n}\r\n\r\n// Router\r\nclass Router {\r\n    constructor() {\r\n        this.routes = [];\r\n    }\r\n\r\n    add(method, path, handler) {\r\n        this.routes.push({ method, path, handler });\r\n    }\r\n\r\n    get(path, handler) { this.add('GET', path, handler); }\r\n    post(path, handler) { this.add('POST', path, handler); }\r\n    put(path, handler) { this.add('PUT', path, handler); }\r\n    delete(path, handler) { this.add('DELETE', path, handler); }\r\n\r\n    async handle(request, env, ctx) {\r\n        const url = new URL(request.url);\r\n        const method = request.method;\r\n        const path = url.pathname;\r\n\r\n        // Handle CORS preflight\r\n        if (method === 'OPTIONS') {\r\n            return new Response(null, { status: 204, headers: corsHeaders() });\r\n        }\r\n\r\n        for (const route of this.routes) {\r\n            if (route.method === method) {\r\n                const match = this.matchPath(route.path, path);\r\n                if (match) {\r\n                    try {\r\n                        return await route.handler(request, env, ctx, match.params, url.searchParams);\r\n                    } catch (error) {\r\n                        console.error('Route error:', error);\r\n                        return errorResponse('Internal server error', 500);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return errorResponse('Not found', 404);\r\n    }\r\n\r\n    matchPath(pattern, path) {\r\n        const patternParts = pattern.split('/');\r\n        const pathParts = path.split('/');\r\n\r\n        if (patternParts.length !== pathParts.length) return null;\r\n\r\n        const params = {};\r\n        for (let i = 0; i < patternParts.length; i++) {\r\n            if (patternParts[i].startsWith(':')) {\r\n                params[patternParts[i].substring(1)] = pathParts[i];\r\n            } else if (patternParts[i] !== pathParts[i]) {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        return { params };\r\n    }\r\n}\r\n\r\n// Create router and define routes\r\nconst router = new Router();\r\n\r\n// ==================== AUTH ROUTES ====================\r\n\r\nrouter.post('/api/auth/register', async (request, env) => {\r\n    const { email, password, firstName, lastName } = await request.json();\r\n\r\n    if (!email || !password) {\r\n        return errorResponse('Email and password are required');\r\n    }\r\n\r\n    // Check if user exists\r\n    const existing = await env.DB.prepare('SELECT id FROM users WHERE email = ?').bind(email).first();\r\n    if (existing) {\r\n        return errorResponse('Email already registered');\r\n    }\r\n\r\n    const id = generateId();\r\n    const passwordHash = await hashPassword(password);\r\n\r\n    await env.DB.prepare(\r\n        'INSERT INTO users (id, email, password_hash, first_name, last_name) VALUES (?, ?, ?, ?, ?)'\r\n    ).bind(id, email, passwordHash, firstName || '', lastName || '').run();\r\n\r\n    return jsonResponse({ id, email }, 201);\r\n});\r\n\r\nrouter.post('/api/auth/login', async (request, env) => {\r\n    const { email, password } = await request.json();\r\n\r\n    if (!email || !password) {\r\n        return errorResponse('Email and password are required');\r\n    }\r\n\r\n    const user = await env.DB.prepare('SELECT * FROM users WHERE email = ?').bind(email).first();\r\n    if (!user) {\r\n        return errorResponse('Invalid credentials', 401);\r\n    }\r\n\r\n    const valid = await verifyPassword(password, user.password_hash);\r\n    if (!valid) {\r\n        return errorResponse('Invalid credentials', 401);\r\n    }\r\n\r\n    const jwtSecret = env.JWT_SECRET || 'default-dev-secret';\r\n    const token = await createJWT({ userId: user.id, email: user.email }, jwtSecret);\r\n\r\n    return jsonResponse({\r\n        token,\r\n        user: {\r\n            id: user.id,\r\n            email: user.email,\r\n            firstName: user.first_name,\r\n            lastName: user.last_name\r\n        }\r\n    });\r\n});\r\n\r\n// ==================== PRODUCTS ROUTES ====================\r\n\r\nrouter.get('/api/products', async (request, env, ctx, params, query) => {\r\n    let products = await env.DB.prepare('SELECT * FROM products ORDER BY created_at DESC').all();\r\n    let results = products.results || [];\r\n\r\n    // Apply filters\r\n    const availability = query.get('availability');\r\n    if (availability === 'in_stock') {\r\n        results = results.filter(p => p.is_available === 1);\r\n    } else if (availability === 'out_of_stock') {\r\n        results = results.filter(p => p.is_available === 0);\r\n    }\r\n\r\n    const category = query.get('category');\r\n    if (category) {\r\n        results = results.filter(p => p.category === category);\r\n    }\r\n\r\n    const minPrice = query.get('min_price');\r\n    if (minPrice) {\r\n        results = results.filter(p => parseFloat(p.price) >= parseFloat(minPrice));\r\n    }\r\n\r\n    const maxPrice = query.get('max_price');\r\n    if (maxPrice) {\r\n        results = results.filter(p => parseFloat(p.price) <= parseFloat(maxPrice));\r\n    }\r\n\r\n    // Apply sorting\r\n    const sort = query.get('sort');\r\n    if (sort === 'price_asc') {\r\n        results.sort((a, b) => parseFloat(a.price) - parseFloat(b.price));\r\n    } else if (sort === 'price_desc') {\r\n        results.sort((a, b) => parseFloat(b.price) - parseFloat(a.price));\r\n    } else if (sort === 'alphabetical_az') {\r\n        results.sort((a, b) => a.title.localeCompare(b.title));\r\n    } else if (sort === 'alphabetical_za') {\r\n        results.sort((a, b) => b.title.localeCompare(a.title));\r\n    }\r\n\r\n    // Transform for frontend compatibility\r\n    results = results.map(p => ({\r\n        ...p,\r\n        is_available: p.is_available === 1,\r\n        is_sale: p.is_sale === 1\r\n    }));\r\n\r\n    return jsonResponse(results);\r\n});\r\n\r\n// ==================== HERO SLIDES ROUTES ====================\r\n\r\nrouter.get('/api/hero-slides', async (request, env) => {\r\n    const slides = await env.DB.prepare(\r\n        'SELECT * FROM hero_slides WHERE is_active = 1 ORDER BY sort_order ASC'\r\n    ).all();\r\n\r\n    const results = (slides.results || []).map(s => ({\r\n        ...s,\r\n        is_active: s.is_active === 1\r\n    }));\r\n\r\n    return jsonResponse(results);\r\n});\r\n\r\n// ==================== FAQs ROUTES ====================\r\n\r\nrouter.get('/api/faqs', async (request, env) => {\r\n    const faqs = await env.DB.prepare('SELECT * FROM faqs ORDER BY sort_order ASC').all();\r\n    return jsonResponse(faqs.results || []);\r\n});\r\n\r\n// ==================== CONTACT ROUTES ====================\r\n\r\nrouter.post('/api/contact', async (request, env) => {\r\n    const { name, email, message } = await request.json();\r\n\r\n    const id = generateId();\r\n    await env.DB.prepare(\r\n        'INSERT INTO contact_messages (id, name, email, message) VALUES (?, ?, ?, ?)'\r\n    ).bind(id, name || '', email || '', message || '').run();\r\n\r\n    return jsonResponse({ success: true, message: 'Message received' }, 201);\r\n});\r\n\r\n// ==================== CART ROUTES ====================\r\n\r\nrouter.get('/api/cart', async (request, env) => {\r\n    const user = await authenticateRequest(request, env);\r\n    if (!user) {\r\n        return errorResponse('Unauthorized', 401);\r\n    }\r\n\r\n    const cartItems = await env.DB.prepare(`\r\n        SELECT ci.id, ci.quantity, ci.product_id, p.title, p.price, p.image_url\r\n        FROM cart_items ci\r\n        JOIN products p ON ci.product_id = p.id\r\n        WHERE ci.user_id = ?\r\n    `).bind(user.userId).all();\r\n\r\n    return jsonResponse(cartItems.results || []);\r\n});\r\n\r\nrouter.post('/api/cart', async (request, env) => {\r\n    const user = await authenticateRequest(request, env);\r\n    if (!user) {\r\n        return errorResponse('Unauthorized', 401);\r\n    }\r\n\r\n    const { productId, quantity = 1 } = await request.json();\r\n\r\n    // Check if item exists in cart\r\n    const existing = await env.DB.prepare(\r\n        'SELECT id, quantity FROM cart_items WHERE user_id = ? AND product_id = ?'\r\n    ).bind(user.userId, productId.toString()).first();\r\n\r\n    if (existing) {\r\n        // Update quantity\r\n        await env.DB.prepare(\r\n            'UPDATE cart_items SET quantity = quantity + ? WHERE id = ?'\r\n        ).bind(quantity, existing.id).run();\r\n        return jsonResponse({ id: existing.id, quantity: existing.quantity + quantity });\r\n    } else {\r\n        // Add new item\r\n        const id = generateId();\r\n        await env.DB.prepare(\r\n            'INSERT INTO cart_items (id, user_id, product_id, quantity) VALUES (?, ?, ?, ?)'\r\n        ).bind(id, user.userId, productId.toString(), quantity).run();\r\n        return jsonResponse({ id, productId, quantity }, 201);\r\n    }\r\n});\r\n\r\nrouter.delete('/api/cart/:productId', async (request, env, ctx, params) => {\r\n    const user = await authenticateRequest(request, env);\r\n    if (!user) {\r\n        return errorResponse('Unauthorized', 401);\r\n    }\r\n\r\n    await env.DB.prepare(\r\n        'DELETE FROM cart_items WHERE user_id = ? AND product_id = ?'\r\n    ).bind(user.userId, params.productId).run();\r\n\r\n    return jsonResponse({ message: 'Item removed' });\r\n});\r\n\r\nrouter.post('/api/cart/merge', async (request, env) => {\r\n    const user = await authenticateRequest(request, env);\r\n    if (!user) {\r\n        return errorResponse('Unauthorized', 401);\r\n    }\r\n\r\n    const { guestCart } = await request.json();\r\n\r\n    if (Array.isArray(guestCart)) {\r\n        for (const item of guestCart) {\r\n            const existing = await env.DB.prepare(\r\n                'SELECT id, quantity FROM cart_items WHERE user_id = ? AND product_id = ?'\r\n            ).bind(user.userId, item.product_id.toString()).first();\r\n\r\n            if (existing) {\r\n                await env.DB.prepare(\r\n                    'UPDATE cart_items SET quantity = quantity + ? WHERE id = ?'\r\n                ).bind(item.quantity, existing.id).run();\r\n            } else {\r\n                const id = generateId();\r\n                await env.DB.prepare(\r\n                    'INSERT INTO cart_items (id, user_id, product_id, quantity) VALUES (?, ?, ?, ?)'\r\n                ).bind(id, user.userId, item.product_id.toString(), item.quantity).run();\r\n            }\r\n        }\r\n    }\r\n\r\n    // Return updated cart\r\n    const cartItems = await env.DB.prepare(`\r\n        SELECT ci.id, ci.quantity, ci.product_id, p.title, p.price, p.image_url\r\n        FROM cart_items ci\r\n        JOIN products p ON ci.product_id = p.id\r\n        WHERE ci.user_id = ?\r\n    `).bind(user.userId).all();\r\n\r\n    return jsonResponse(cartItems.results || []);\r\n});\r\n\r\n// ==================== SUBSCRIBE ROUTES ====================\r\n\r\nrouter.post('/api/subscribe', async (request, env) => {\r\n    const { phoneNumber } = await request.json();\r\n\r\n    if (!phoneNumber) {\r\n        return errorResponse('Phone number is required');\r\n    }\r\n\r\n    // Check if already exists\r\n    const existing = await env.DB.prepare(\r\n        'SELECT id FROM discount_signups WHERE phone_number = ?'\r\n    ).bind(phoneNumber).first();\r\n\r\n    if (!existing) {\r\n        const id = generateId();\r\n        await env.DB.prepare(\r\n            'INSERT INTO discount_signups (id, phone_number) VALUES (?, ?)'\r\n        ).bind(id, phoneNumber).run();\r\n    }\r\n\r\n    return jsonResponse({ message: 'Discount activated!', discountActive: true });\r\n});\r\n\r\n// ==================== PRINTFUL PROXY ROUTES ====================\r\n\r\nrouter.get('/api/printful/products', async (request, env) => {\r\n    const printfulToken = env.PRINTFUL_API_TOKEN;\r\n\r\n    if (!printfulToken) {\r\n        return errorResponse('Printful API not configured', 500);\r\n    }\r\n\r\n    try {\r\n        // Fetch all store products\r\n        const productsResponse = await fetch('https://api.printful.com/store/products', {\r\n            headers: {\r\n                'Authorization': `Bearer ${printfulToken}`,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n\r\n        const productsData = await productsResponse.json();\r\n        const storeProducts = productsData.result || [];\r\n\r\n        // Fetch detailed info for each product\r\n        const productsWithDetails = await Promise.all(\r\n            storeProducts.map(async (product) => {\r\n                try {\r\n                    const detailsResponse = await fetch(`https://api.printful.com/store/products/${product.id}`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${printfulToken}`,\r\n                            'Content-Type': 'application/json'\r\n                        }\r\n                    });\r\n                    const detailsData = await detailsResponse.json();\r\n                    const details = detailsData.result;\r\n\r\n                    if (!details) return null;\r\n\r\n                    const variants = details.sync_variants || [];\r\n                    const firstVariant = variants[0];\r\n                    const price = firstVariant?.retail_price || '0.00';\r\n\r\n                    return {\r\n                        id: product.id.toString(),\r\n                        title: product.name,\r\n                        image_url: product.thumbnail_url,\r\n                        price: parseFloat(price).toFixed(2),\r\n                        is_available: true,\r\n                        is_sale: false,\r\n                        original_price: null,\r\n                        printful_id: product.id,\r\n                        external_id: product.external_id,\r\n                        variants: variants.map(v => ({\r\n                            id: v.id,\r\n                            name: v.name,\r\n                            price: v.retail_price,\r\n                            sku: v.sku\r\n                        }))\r\n                    };\r\n                } catch {\r\n                    return null;\r\n                }\r\n            })\r\n        );\r\n\r\n        const products = productsWithDetails.filter(p => p !== null);\r\n        return jsonResponse({ products });\r\n    } catch (error) {\r\n        return errorResponse('Failed to fetch Printful products', 500);\r\n    }\r\n});\r\n\r\n// Health check\r\nrouter.get('/api/health', async () => {\r\n    return jsonResponse({ status: 'ok', timestamp: new Date().toISOString() });\r\n});\r\n\r\n// Main export\r\nexport default {\r\n    async fetch(request, env, ctx) {\r\n        return router.handle(request, env, ctx);\r\n    }\r\n};\r\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"D:\\\\sunscape\\\\Wild-Breeze\\\\workers\\\\src\\\\index.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"D:\\\\sunscape\\\\Wild-Breeze\\\\workers\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"D:\\\\sunscape\\\\Wild-Breeze\\\\workers\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"D:\\\\sunscape\\\\Wild-Breeze\\\\workers\\\\src\\\\index.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"D:\\\\sunscape\\\\Wild-Breeze\\\\workers\\\\.wrangler\\\\tmp\\\\bundle-ucMwbR\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"D:\\\\sunscape\\\\Wild-Breeze\\\\workers\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"D:\\\\sunscape\\\\Wild-Breeze\\\\workers\\\\.wrangler\\\\tmp\\\\bundle-ucMwbR\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"D:\\\\sunscape\\\\Wild-Breeze\\\\workers\\\\.wrangler\\\\tmp\\\\bundle-ucMwbR\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": []
}
